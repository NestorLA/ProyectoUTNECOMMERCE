<div class="container" style="margin-top:10vh;">
    <div class="row justify-content-center">
        <div class="col-12">
            <h4 class="text-center">Categoria a modificar</h4>
<div class="d-inline-flex">
                    <a href="/admin/categorias"><button type="button" class="btn btn-warning btn-block text-white"><i class="fa fa-arrow-left" aria-hidden="true"></i>
 Volver</button></a>
            </div>
        </div>
        <div class="col-8">

            <form id="form1">
                <input type="hidden" id="id_categoria" name="id_categoria" value="{{categoriaModi.id_categoria}}">

                <div class="form-group">
                    <label for="nombre">Ingresa el nuevo nombre de categorÃ­a</label>
                    <input type="text" name="categoria" id="categoria" value="{{categoriaModi.categoria}}" class="form-control">
                </div>


                <button id="boton" type="button" class="btn btn-warning btn-block text-white">Modificar producto</button>
                <span class="text-success">{{message}}</span>
            </form>
        </div>

    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>

<script>
    // document
    // window -> 
    // listener (evento, callback/funcion)
    window.addEventListener('load', () => {
        console.log("Cargado..")
        document.getElementById('boton').addEventListener('click', botonApretado);
    });

    const botonApretado = () => {
        console.log("%cUpss me apretaron ðŸ˜œðŸ±â€ðŸ", "color:red");
        const datos = new URLSearchParams(new FormData(document.getElementById('form1')));
        // fetch
        fetch('/admin/categorias/modificar/:id', {
            method: 'POST',
            body: datos
        })
            .then(response => response.json())
            .then(data => message(data));
    }

    const message = (datos) => {
        if (datos.success == true) {
            Swal.fire({
                position: 'center',
                icon: 'success',
                title: 'Categoria modificada ðŸ¤ž',
                showConfirmButton: true,
            })
        } else {
            Swal.fire({
                position: 'center',
                icon: 'error',
                title: 'Oops... Ocurrio un error ðŸ¤£',
                showConfirmButton: true,
            })
        }
    }
    


</script>